<Window x:Class="Fingerprint.AdminUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:views="clr-namespace:Fingerprint.AdminUI.Views"
        xmlns:viewModels="clr-namespace:Fingerprint.AdminUI.ViewModels"
        Title="Fingerprint Enrollment System" 
        Height="600" Width="800"
        MinHeight="500" MinWidth="700"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource MaterialDesignPaper}"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        TextElement.FontWeight="Regular"
        TextElement.FontSize="13"
        TextOptions.TextFormattingMode="Ideal"
        TextOptions.TextRenderingMode="Auto">

    <Grid>
        <Grid.RowDefinitions>
            <!-- Header -->
            <RowDefinition Height="Auto"/>
            <!-- Main Content -->
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <materialDesign:ColorZone Grid.Row="0" Mode="PrimaryMid" Padding="16">
            <DockPanel>
                <StackPanel Orientation="Horizontal" DockPanel.Dock="Left">
                    <materialDesign:PackIcon Kind="Fingerprint" 
                                           Width="32" Height="32" 
                                           VerticalAlignment="Center" 
                                           Margin="0,0,10,0"/>
                    <TextBlock Text="Fingerprint Enrollment" 
                             FontSize="20" 
                             FontWeight="Bold" 
                             VerticalAlignment="Center"/>
                </StackPanel>

                <!-- Device Status -->
                <StackPanel Orientation="Horizontal" DockPanel.Dock="Right">
                    <materialDesign:PackIcon Kind="{Binding IsDeviceConnected, Converter={StaticResource BoolToIconConverter}}"
                                           Width="20" Height="20" 
                                           VerticalAlignment="Center"
                                           Foreground="{Binding IsDeviceConnected, Converter={StaticResource BoolToColorConverter}}"
                                           Margin="0,0,5,0"/>
                    <TextBlock Text="{Binding DeviceStatus.DeviceName, FallbackValue='Device Disconnected'}" 
                             VerticalAlignment="Center"
                             Margin="0,0,10,0"/>
                    <Button Content="Refresh" 
                          Command="{Binding RefreshDeviceStatusCommand}"
                          Style="{StaticResource MaterialDesignFlatButton}"/>
                </StackPanel>
            </DockPanel>
        </materialDesign:ColorZone>

        <!-- Main Content - Tab Control -->
        <TabControl Grid.Row="1" 
                   Style="{StaticResource MaterialDesignNavigatilRailTabControl}"
                   materialDesign:ColorZoneAssist.Mode="PrimaryMid">
            
            <!-- Enrollment Tab -->
            <TabItem>
                <TabItem.Header>
                    <StackPanel>
                        <materialDesign:PackIcon Kind="Fingerprint" 
                                               Width="24" Height="24" 
                                               HorizontalAlignment="Center"/>
                        <TextBlock Text="Enrollment" 
                                 HorizontalAlignment="Center" 
                                 Margin="0,4,0,0"/>
                    </StackPanel>
                </TabItem.Header>
                <Border Padding="20">
                    <views:EnrollUserView DataContext="{Binding EnrollUserViewModel}" />
                </Border>
            </TabItem>

            <!-- Attendance Tab -->
            <TabItem>
                <TabItem.Header>
                    <StackPanel>
                        <materialDesign:PackIcon Kind="ClockOutline" 
                                               Width="24" Height="24" 
                                               HorizontalAlignment="Center"/>
                        <TextBlock Text="Attendance" 
                                 HorizontalAlignment="Center" 
                                 Margin="0,4,0,0"/>
                    </StackPanel>
                </TabItem.Header>
                <Border Padding="20">
                    <views:AttendanceView DataContext="{Binding AttendanceViewModel}" />
                </Border>
            </TabItem>

            <!-- Dashboard Tab -->
            <TabItem>
                <TabItem.Header>
                    <StackPanel>
                        <materialDesign:PackIcon Kind="ViewDashboard" 
                                               Width="24" Height="24" 
                                               HorizontalAlignment="Center"/>
                        <TextBlock Text="Dashboard" 
                                 HorizontalAlignment="Center" 
                                 Margin="0,4,0,0"/>
                    </StackPanel>
                </TabItem.Header>
                <Border Padding="20">
                    <views:DashboardView DataContext="{Binding DashboardViewModel}" />
                </Border>
            </TabItem>

            <!-- Settings Tab -->
            <TabItem>
                <TabItem.Header>
                    <StackPanel>
                        <materialDesign:PackIcon Kind="Settings" 
                                               Width="24" Height="24" 
                                               HorizontalAlignment="Center"/>
                        <TextBlock Text="Settings" 
                                 HorizontalAlignment="Center" 
                                 Margin="0,4,0,0"/>
                    </StackPanel>
                </TabItem.Header>
                <Border Padding="20">
                    <views:SettingsView DataContext="{Binding SettingsViewModel}" />
                </Border>
            </TabItem>
        </TabControl>
    </Grid>
</Window>
